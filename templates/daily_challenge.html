<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Challenge - MyNetwork</title>
    <link rel="stylesheet" href="daily_challenge_style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="navbar">
        <div class="container">
            <div class="logo">MyNetwork</div>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="profile.html">Profile</a></li>
                    <li><a href="#">Messages</a></li>
                    <li><a href="#">Notifications</a></li>
                </ul>
            </nav>
            <div class="search-bar">
                <input type="text" placeholder="Search...">
            </div>
        </div>
    </header>

    <main class="container daily-challenge-page-content">
        <!-- Left Sidebar: User Information -->
        <aside class="user-info-sidebar card">
            <h3>My Profile</h3>
            <div class="user-profile-summary">
                <img src="https://via.placeholder.com/80/4a90e2/ffffff?text=JD" alt="John Doe Profile" class="profile-pic-small">
                <h4>John Doe</h4>
                <p class="user-status">Active Participant</p>
                <div class="user-score-overall">
                    <span>Overall Score: <strong>12,500</strong></span>
                    <span>Badges: <strong>5</strong></span>
                </div>
            </div>
            <div class="quick-links">
                <ul>
                    <li><a href="#">My Challenge History</a></li>
                    <li><a href="#">Leaderboards</a></li>
                    <li><a href="#">Achievements</a></li>
                </ul>
            </div>
        </aside>

        <!-- Middle Section: Question Interface -->
        <section class="question-interface-middle">
            <div class="challenge-overview card">
                <h2>Today's Daily Challenge</h2>
                <div class="challenge-details">
                    <p><strong>Topic:</strong> <span id="challenge-topic">General Knowledge</span></p>
                    <p><strong>Questions:</strong> <span id="num-questions">10</span></p>
                    <p><strong>Level:</strong> <span id="question-level">Intermediate</span></p>
                </div>
                <p class="current-question-status">Question <span id="current-question-number">1</span> of <span id="total-questions">10</span></p>
            </div>

            <div class="question-card card">
                <p class="question-text">What is the capital of France?</p>
                <div class="answer-options">
                    <label class="option-label">
                        <input type="radio" name="answer" value="london">
                        London
                    </label>
                    <label class="option-label">
                        <input type="radio" name="answer" value="paris">
                        Paris
                    </label>
                    <label class="option-label">
                        <input type="radio" name="answer" value="berlin">
                        Berlin
                    </label>
                    <label class="option-label">
                        <input type="radio" name="answer" value="madrid">
                        Madrid
                    </label>
                </div>
                <div class="question-actions">
                    <button class="skip-button">Skip Question</button>
                    <button class="submit-answer-button">Submit Answer</button>
                </div>
                <div class="feedback-message" style="display: none;"></div>
            </div>
        </section>

        <!-- Right Sidebar: Statistics Table & Today's User Info -->
        <aside class="statistics-sidebar">
            <div class="daily-ranking card">
                <h3>Daily Ranking</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Name</th>
                            <th>Score</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Alice J.</td>
                            <td>1000</td>
                            <td>0:08:15</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Bob W.</td>
                            <td>980</td>
                            <td>0:09:02</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>You (John D.)</td>
                            <td>950</td>
                            <td>0:09:40</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Carol K.</td>
                            <td>920</td>
                            <td>0:10:05</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>David L.</td>
                            <td>900</td>
                            <td>0:10:30</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>Eve M.</td>
                            <td>880</td>
                            <td>0:11:00</td>
                        </tr>
                        <!-- More ranks -->
                    </tbody>
                </table>
            </div>

            <div class="today-user-stats card">
                <h3>Your Today's Stats</h3>
                <p>Today's Score: <strong><span id="today-score">950</span></strong></p>
                <p>Time Taken: <strong><span id="time-taken">0:09:40</span></strong></p>
                <p>Daily Rank: <strong><span id="daily-rank">3</span></strong></p>
                <p>Challenge Status: <strong><span id="challenge-status">In Progress</span></strong></p>
            </div>
        </aside>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 MyNetwork. All rights reserved.</p>
            <ul>
                <li><a href="#">Privacy Policy</a></li>
                <li><a href="#">Terms of Service</a></li>
                <li><a href="#">Contact Us</a></li>
            </ul>
        </div>
    </footer>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Placeholder for actual question data
            const questions = [
                {
                    question: "What is the capital of France?",
                    options: ["London", "Paris", "Berlin", "Madrid"],
                    correct: "Paris"
                },
                {
                    question: "Which planet is known as the Red Planet?",
                    options: ["Earth", "Mars", "Jupiter", "Venus"],
                    correct: "Mars"
                },
                {
                    question: "Who painted the Mona Lisa?",
                    options: ["Vincent van Gogh", "Pablo Picasso", "Leonardo da Vinci", "Claude Monet"],
                    correct: "Leonardo da Vinci"
                }
            ];

            let currentQuestionIndex = 0;
            let userScore = 0;
            let startTime = new Date();
            let timerInterval;

            const questionTextElement = document.querySelector('.question-text');
            const answerOptionsDiv = document.querySelector('.answer-options');
            const submitButton = document.querySelector('.submit-answer-button');
            const skipButton = document.querySelector('.skip-button');
            const feedbackMessage = document.querySelector('.feedback-message');
            const currentQuestionNumberSpan = document.getElementById('current-question-number');
            const totalQuestionsSpan = document.getElementById('total-questions');
            const todayScoreSpan = document.getElementById('today-score');
            const timeTakenSpan = document.getElementById('time-taken');
            const challengeStatusSpan = document.getElementById('challenge-status');

            totalQuestionsSpan.textContent = questions.length;

            function formatTime(seconds) {
                const h = Math.floor(seconds / 3600);
                const m = Math.floor((seconds % 3600) / 60);
                const s = seconds % 60;
                return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
            }

            function updateTimer() {
                const elapsedSeconds = Math.floor((new Date() - startTime) / 1000);
                timeTakenSpan.textContent = formatTime(elapsedSeconds);
            }

            function startChallenge() {
                currentQuestionIndex = 0;
                userScore = 0;
                startTime = new Date();
                timerInterval = setInterval(updateTimer, 1000);
                challengeStatusSpan.textContent = "In Progress";
                todayScoreSpan.textContent = "0"; // Reset score for new challenge
                loadQuestion();
            }

            function loadQuestion() {
                if (currentQuestionIndex < questions.length) {
                    const q = questions[currentQuestionIndex];
                    questionTextElement.textContent = q.question;
                    answerOptionsDiv.innerHTML = ''; // Clear previous options
                    q.options.forEach(option => {
                        const label = document.createElement('label');
                        label.classList.add('option-label');
                        label.innerHTML = `
                            <input type="radio" name="answer" value="${option.toLowerCase().replace(/\s/g, '')}">
                            ${option}
                        `;
                        answerOptionsDiv.appendChild(label);
                    });
                    currentQuestionNumberSpan.textContent = currentQuestionIndex + 1;
                    feedbackMessage.style.display = 'none';
                    feedbackMessage.textContent = '';
                    submitButton.textContent = 'Submit Answer';
                    submitButton.disabled = false;
                    skipButton.disabled = false;
                } else {
                    endChallenge();
                }
            }

            function submitAnswer() {
                const selectedOption = document.querySelector('input[name="answer"]:checked');
                if (!selectedOption) {
                    feedbackMessage.textContent = "Please select an answer!";
                    feedbackMessage.style.display = 'block';
                    feedbackMessage.style.color = '#dc3545'; // Red for warning
                    return;
                }

                const correctAnswer = questions[currentQuestionIndex].correct.toLowerCase().replace(/\s/g, '');
                const userAnswer = selectedOption.value;

                if (userAnswer === correctAnswer) {
                    userScore += 100; // Award points
                    feedbackMessage.textContent = "Correct! +100 points";
                    feedbackMessage.style.color = '#28a745'; // Green
                } else {
                    feedbackMessage.textContent = `Wrong! Correct answer was: ${questions[currentQuestionIndex].correct}`;
                    feedbackMessage.style.color = '#dc3545'; // Red
                }
                feedbackMessage.style.display = 'block';
                todayScoreSpan.textContent = userScore; // Update displayed score

                // Disable buttons after answer
                submitButton.disabled = true;
                skipButton.disabled = true;

                // Prepare for next question
                setTimeout(() => {
                    currentQuestionIndex++;
                    loadQuestion();
                }, 1500); // Show feedback for 1.5 seconds
            }

            function skipQuestion() {
                feedbackMessage.textContent = `Question skipped. Correct answer was: ${questions[currentQuestionIndex].correct}`;
                feedbackMessage.style.color = '#ffc107'; // Orange for skipped
                feedbackMessage.style.display = 'block';
                submitButton.disabled = true;
                skipButton.disabled = true;

                setTimeout(() => {
                    currentQuestionIndex++;
                    loadQuestion();
                }, 1500);
            }

            function endChallenge() {
                clearInterval(timerInterval);
                challengeStatusSpan.textContent = "Completed!";
                feedbackMessage.textContent = `Challenge Finished! Your final score: ${userScore}`;
                feedbackMessage.style.color = '#4a90e2'; // Blue
                feedbackMessage.style.display = 'block';
                submitButton.style.display = 'none';
                skipButton.style.display = 'none';
                document.querySelector('.question-card').style.minHeight = '150px'; // Adjust card height
            }

            submitButton.addEventListener('click', submitAnswer);
            skipButton.addEventListener('click', skipQuestion);

            startChallenge(); // Start the challenge when the page loads
        });
    </script>
</body>
</html>